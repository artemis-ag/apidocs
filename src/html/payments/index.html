<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Payment &mdash; Agrilyst</title>
  <meta name="description" content="Agrilyst is the intelligence platform for indoor farms.">
  <meta name="keywords" content="agrilyst,farming,crops,etc">
  <link rel="stylesheet" href="../assets/css/app.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="../assets/js/jquery-form.min.js"></script>

  <script type="text/javascript" src="https://js.stripe.com/v2/"></script>
  <script type="text/javascript">
    Stripe.setPublishableKey('pk_test_yIxhYHgBySs79ucj7cR5aSQX');
  </script>

  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../apple-touch-icon-60x60.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../apple-touch-icon-76x76.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="../favicon-196x196.png" sizes="196x196" />
  <link rel="icon" type="image/png" href="../favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/png" href="../favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="../favicon-16x16.png" sizes="16x16" />
  <link rel="icon" type="image/png" href="../favicon-128.png" sizes="128x128" />
  <meta name="application-name" content="&nbsp;"/>
  <meta name="msapplication-TileColor" content="#F9F9FA" />
  <meta name="msapplication-TileImage" content="../mstile-144x144.png" />
  <meta name="msapplication-square70x70logo" content="../mstile-70x70.png" />
  <meta name="msapplication-square150x150logo" content="../mstile-150x150.png" />
  <meta name="msapplication-wide310x150logo" content="../mstile-310x150.png" />
  <meta name="msapplication-square310x310logo" content="../mstile-310x310.png" />
</head>
<body class="payments">

  <div class="wrap">

    <header class="header">
      <div class="width">

        <h1>
          <a href="/">
            Agrilyst
          </a>
        </h1>

      </div>
    </header>


    <div id="contact">
        <div class="width">

          <h2 class="contact-heading">Customer Payment Information</h2>

          
          <ul class="contact-messages" id="contact-messages">
          </ul>
          
          <form action="/cgi-bin/payments" method="POST" id="payment-form">

            <label class="form-group form-group--half">
              <span class="form-label">Name</span>
              <input type="name" name="name" data-stripe="name" class="input-text" name="name" placeholder="Name" tabindex="1">
            </label>

            <label class="form-group form-group--half">
              <span class="form-label">Email Address</span>
              <input type="email" name="email" data-stripe="email" class="input-text" placeholder="name@farm.org" tabindex="2">
            </label>

            <label class="form-group form-group--half">
              <span class="form-label">Credit Card Number</span>
              <input data-stripe="number" class="input-text" tabindex="2">
            </label>

            <label class="form-group form-group--half">
              <span class="form-label">Exp Month</span>
              <input data-stripe="exp_month" class="input-text" tabindex="2">
            </label>

            <label class="form-group form-group--half">
              <span class="form-label">Exp Year</span>
              <input data-stripe="exp_year" class="input-text" tabindex="2">
            </label>

            <label class="form-group form-group--half">
              <span class="form-label">CVC</span>
              <input data-stripe="cvc" class="input-text" tabindex="2">
            </label>

            <button class="button green submit" type="submit">Submit</button>
          </form>
        </div>
    </div>
  </div>



<script>
$(document).ready(function() {
  var $form = $('#payment-form');
  $form.submit(function(event) {
    // Disable the submit button to prevent repeated clicks:
    $form.find('.submit').prop('disabled', true);

    // Request a token from Stripe:
    Stripe.card.createToken($form, stripeResponseHandler);

    // Prevent the form from being submitted:
    return false;
  });
});

function stripeResponseHandler(status, response) {
  var $form = $('#payment-form');

  $form.find('#contact-messages').empty();

  if (response.error) { // Problem!

    // Show the errors on the form:
    $form.find('#contact-messages').append('<li class="error">' + response.error.message + '</li>');
    $form.find('.submit').prop('disabled', false); // Re-enable submission

  } else { // Token was created!
    // Get the token ID:
    var token = response.id;

    // Insert the token ID into the form so it gets submitted to the server:
    $form.append($('<input type="hidden" name="stripeToken">').val(token));

    // Submit the form:
    $form.get(0).submit();
  }
}

</script>

</body>
</html>
